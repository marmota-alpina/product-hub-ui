<h1>Create Product</h1>
<a mat-button routerLink="/products">Back to Product List</a>

<mat-card class="container">
  <form [formGroup]="productForm" (ngSubmit)="saveProduct()" class="product-form">
    <mat-form-field appearance="fill">
      <mat-label>Title</mat-label>
      <input matInput id="title" formControlName="title" required>
      <mat-error *ngIf="productForm.get('title')?.invalid && productForm.get('title')?.touched">
        Title is required.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Price</mat-label>
      <input matInput id="price" formControlName="price" type="number" required>
      <mat-error *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched">
        Price is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Quantity</mat-label>
      <input matInput id="quantity" formControlName="quantity" type="number" required>
      <mat-error *ngIf="productForm.get('quantity')?.invalid && productForm.get('quantity')?.touched">
        Quantity is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput id="description" formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Image</mat-label>
      <input matInput id="image" formControlName="image">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Category</mat-label>
      <mat-select formControlName="category">
        <mat-option *ngFor="let category of (categories$ | async)" [value]="category">{{ category }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Weight</mat-label>
      <input matInput id="weight" formControlName="weight" type="number" required>
      <mat-error *ngIf="productForm.get('weight')?.invalid && productForm.get('weight')?.touched">
        Weight is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Length</mat-label>
      <input matInput id="length" formControlName="length" type="number" required>
      <mat-error *ngIf="productForm.get('length')?.invalid && productForm.get('length')?.touched">
        Length is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Width</mat-label>
      <input matInput id="width" formControlName="width" type="number" required>
      <mat-error *ngIf="productForm.get('width')?.invalid && productForm.get('width')?.touched">
        Width is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Height</mat-label>
      <input matInput id="height" formControlName="height" type="number" required>
      <mat-error *ngIf="productForm.get('height')?.invalid && productForm.get('height')?.touched">
        Height is required and must be a positive number.
      </mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" [disabled]="productForm.invalid">Create</button>
  </form>
</mat-card>

